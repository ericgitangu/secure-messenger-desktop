<?xml version="1.0" encoding="UTF-8" ?>
<testsuites name="vitest tests" tests="81" failures="0" errors="0" time="7.310771376">
    <testsuite name="tests/integration/ws-sync.test.ts" timestamp="2026-02-09T09:53:01.494Z" hostname="Erics-MacBook-Pro.local" tests="4" failures="0" errors="0" skipped="0" time="5.525723167">
        <testcase classname="tests/integration/ws-sync.test.ts" name="WebSocket Sync Integration &gt; should accept WebSocket connections" time="0.260705542">
        </testcase>
        <testcase classname="tests/integration/ws-sync.test.ts" name="WebSocket Sync Integration &gt; should send connection_state on connect" time="0.236671167">
        </testcase>
        <testcase classname="tests/integration/ws-sync.test.ts" name="WebSocket Sync Integration &gt; should emit new_message events with valid data" time="2.514144583">
        </testcase>
        <testcase classname="tests/integration/ws-sync.test.ts" name="WebSocket Sync Integration &gt; should write new messages to the database" time="2.512671084">
        </testcase>
    </testsuite>
    <testsuite name="tests/pact/ws-contract.test.ts" timestamp="2026-02-09T09:53:01.496Z" hostname="Erics-MacBook-Pro.local" tests="14" failures="0" errors="0" skipped="0" time="0.004149208">
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should accept valid connected state" time="0.000824875">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should accept valid reconnecting state" time="0.000272834">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should accept valid offline state" time="0.000207458">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should reject invalid state value" time="0.000091125">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should reject missing type" time="0.000049708">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; connection_state event &gt; should reject null" time="0.000033917">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; new_message event &gt; should accept valid new_message event" time="0.000250208">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; new_message event &gt; should reject when message.chatId does not match data.chatId" time="0.000248833">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; new_message event &gt; should reject when missing message fields" time="0.000153667">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; new_message event &gt; should reject when ts is not a number" time="0.000200167">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; new_message event &gt; should reject null data" time="0.00009275">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; WsEvent discriminator &gt; should accept connection_state events" time="0.000171042">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; WsEvent discriminator &gt; should accept new_message events" time="0.000094708">
        </testcase>
        <testcase classname="tests/pact/ws-contract.test.ts" name="WebSocket Contract &gt; WsEvent discriminator &gt; should reject unknown event types" time="0.000057958">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/db/queries.test.ts" timestamp="2026-02-09T09:53:01.497Z" hostname="Erics-MacBook-Pro.local" tests="19" failures="0" errors="0" skipped="0" time="0.03907825">
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChats &gt; should return chats sorted by lastMessageAt DESC" time="0.010158916">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChats &gt; should support pagination with offset and limit" time="0.000856084">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChats &gt; should return empty array when offset exceeds data" time="0.001189042">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChats &gt; should include unread counts" time="0.000726542">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getMessages &gt; should return decrypted messages for a chat" time="0.002441708">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getMessages &gt; should return messages before a given timestamp" time="0.00145625">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getMessages &gt; should limit results" time="0.001548208">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getMessages &gt; should return messages in DESC order (newest first)" time="0.00215625">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getMessages &gt; should return empty array for non-existent chat" time="0.002075958">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; searchMessages &gt; should find messages containing search term in a specific chat" time="0.002819667">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; searchMessages &gt; should search across all chats when chatId is null" time="0.002402709">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; searchMessages &gt; should return empty results for non-matching query" time="0.000708458">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; searchMessages &gt; should respect limit parameter" time="0.0006025">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; markChatRead &gt; should set unread count to 0" time="0.001485709">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; insertMessage &gt; should insert a new message and update chat" time="0.001952958">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; insertMessage &gt; should increment unread count on chat" time="0.00165875">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getRandomChat &gt; should return a valid chat" time="0.001667125">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChatById &gt; should return the correct chat" time="0.001223833">
        </testcase>
        <testcase classname="tests/unit/db/queries.test.ts" name="Database Queries &gt; getChatById &gt; should return undefined for non-existent chat" time="0.000717541">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/db/seed.test.ts" timestamp="2026-02-09T09:53:01.500Z" hostname="Erics-MacBook-Pro.local" tests="7" failures="0" errors="0" skipped="0" time="1.708803042">
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should seed the correct number of chats" time="0.255819792">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should seed messages for every chat" time="0.193868541">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should generate a large number of total messages" time="0.19931425">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should store encrypted message bodies (not plaintext)" time="0.201199583">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should not re-seed if data already exists" time="0.27222425">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should set valid timestamps for all messages" time="0.388461917">
        </testcase>
        <testcase classname="tests/unit/db/seed.test.ts" name="Database Seeding &gt; should set lastMessageAt for each chat" time="0.197144333">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/security/SecurityService.test.ts" timestamp="2026-02-09T09:53:01.501Z" hostname="Erics-MacBook-Pro.local" tests="16" failures="0" errors="0" skipped="0" time="0.014640375">
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should be a singleton when using getInstance" time="0.007450792">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should encrypt and decrypt round-trip correctly" time="0.001574834">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should produce different output from input (not plaintext)" time="0.000412292">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should produce different ciphertext for same plaintext (random IV)" time="0.000115292">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should handle empty strings" time="0.000086833">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should handle unicode characters" time="0.0000725">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should handle very long strings" time="0.000169375">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should encrypt batch correctly" time="0.00079825">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should decrypt batch correctly" time="0.000581792">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should handle special characters" time="0.00021225">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should detect tampered ciphertext (authentication)" time="0.000622125">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should reject invalid ciphertext format" time="0.000161">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should fail decryption with wrong key" time="0.000192333">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should verify valid ciphertext" time="0.000118708">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should reject invalid ciphertext in verify" time="0.000075209">
        </testcase>
        <testcase classname="tests/unit/security/SecurityService.test.ts" name="SecurityService (AES-256-GCM) &gt; should report the correct algorithm" time="0.000068">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/store/chatsSlice.test.ts" timestamp="2026-02-09T09:53:01.504Z" hostname="Erics-MacBook-Pro.local" tests="6" failures="0" errors="0" skipped="0" time="0.006263542">
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; should return the initial state" time="0.0037195">
        </testcase>
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; selectChat &gt; should set the selected chat ID" time="0.000362834">
        </testcase>
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; updateChatLastMessage &gt; should update lastMessageAt and re-sort" time="0.000340667">
        </testcase>
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; updateChatLastMessage &gt; should increment unread count when chat is not selected" time="0.000136">
        </testcase>
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; updateChatLastMessage &gt; should NOT increment unread count when chat is selected" time="0.00011375">
        </testcase>
        <testcase classname="tests/unit/store/chatsSlice.test.ts" name="chatsSlice &gt; resetChats &gt; should clear all chat state" time="0.000477375">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/store/connectionSlice.test.ts" timestamp="2026-02-09T09:53:01.504Z" hostname="Erics-MacBook-Pro.local" tests="10" failures="0" errors="0" skipped="0" time="0.004746959">
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; should return the initial state" time="0.00243975">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setConnected &gt; should set state to connected and reset attempts" time="0.000445">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setReconnecting &gt; should set state to reconnecting and increment attempts" time="0.000130125">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setReconnecting &gt; should increment attempts on each call" time="0.000102291">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setOffline &gt; should set state to offline" time="0.000071833">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setConnectionState &gt; should handle connected transition" time="0.000100209">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setConnectionState &gt; should handle reconnecting transition" time="0.000065792">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; setConnectionState &gt; should handle offline transition" time="0.000066667">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; state machine transitions &gt; connected -&gt; reconnecting -&gt; connected" time="0.000101917">
        </testcase>
        <testcase classname="tests/unit/store/connectionSlice.test.ts" name="connectionSlice &gt; state machine transitions &gt; connected -&gt; reconnecting -&gt; offline -&gt; connected" time="0.000110292">
        </testcase>
    </testsuite>
    <testsuite name="tests/unit/store/messagesSlice.test.ts" timestamp="2026-02-09T09:53:01.506Z" hostname="Erics-MacBook-Pro.local" tests="5" failures="0" errors="0" skipped="0" time="0.007366833">
        <testcase classname="tests/unit/store/messagesSlice.test.ts" name="messagesSlice &gt; should return the initial state" time="0.002441625">
        </testcase>
        <testcase classname="tests/unit/store/messagesSlice.test.ts" name="messagesSlice &gt; addMessage &gt; should add a message to the items array" time="0.003100791">
        </testcase>
        <testcase classname="tests/unit/store/messagesSlice.test.ts" name="messagesSlice &gt; addMessage &gt; should append to existing messages" time="0.000366041">
        </testcase>
        <testcase classname="tests/unit/store/messagesSlice.test.ts" name="messagesSlice &gt; clearMessages &gt; should clear all messages and reset hasOlder" time="0.000236125">
        </testcase>
        <testcase classname="tests/unit/store/messagesSlice.test.ts" name="messagesSlice &gt; clearSearch &gt; should clear search results and query" time="0.000223584">
        </testcase>
    </testsuite>
</testsuites>
